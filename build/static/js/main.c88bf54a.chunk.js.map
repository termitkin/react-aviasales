{"version":3,"sources":["components/Logo/logo.svg","components/Ticket/displayDate.js","components/Ticket/companyLogo.js","components/Ticket/index.jsx","components/Ticket/priceConverter.js","components/Ticket/stopsText.js","components/TicketsGroup/index.jsx","components/CurrencyButton/index.jsx","components/CurrencyButtonGroup/index.jsx","components/Checkbox/index.jsx","components/CheckboxGroup/checkBoxToStops.js","components/CheckboxGroup/index.jsx","components/Filter/index.jsx","components/Logo/index.jsx","components/App.jsx","index.jsx"],"names":["module","exports","__webpack_require__","p","displayDate","str","i","replace","d","Date","getDate","getMonth","getFullYear","getDay","companyLogo","carrier","className","Ticket","props","_props$tickets","tickets","origin","origin_name","destination","destination_name","departure_date","departure_time","arrival_date","arrival_time","stops","price","departureDate","arrivalDate","finalPrice","currency","currentCurrancy","usd","eur","USD_RUB","EUR_RUB","Number","toFixed","String","split","reverse","join","priceConverter","currentCurrency","react_default","a","createElement","role","aria-label","type","text","stopsText","TicketsGroup","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","data","isLoading","_this2","fetch","then","response","json","setState","_this3","ticketsFromProps","filteredTickets","ticketsToShow","forEach","el","filter","ticket","parseInt","push","apply","toConsumableArray","sort","b","map","components_Ticket","key","Component","CurrencyButton","round","ariaLabel","onClick","clicked","CurrencyButtonGroup","cur","components_CurrencyButton","PureComponent","Checkbox","id","name","onChange","changed","checked","htmlFor","labelText","only","checkBoxToStops","obj","arr","arr2","check","length","CheckboxGroup","elem","defineProperty","checkBox","checkBox0","checkBox1","checkBox2","checkBox3","checkbox","checkboxes","components_Checkbox","label","Filter","components_CurrencyButtonGroup","components_CheckboxGroup","Logo","href","title","src","logo","alt","App","components_Logo","components_Filter","components_TicketsGroup","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.c88bf54a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.eb515c41.svg\";","export function displayDate(str) {\r\n  const days = [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"];\r\n  const months = [\r\n    \"янв\",\r\n    \"фев\",\r\n    \"мар\",\r\n    \"апр\",\r\n    \"май\",\r\n    \"июн\",\r\n    \"июл\",\r\n    \"авг\",\r\n    \"сен\",\r\n    \"окт\",\r\n    \"ноя\",\r\n    \"дек\"\r\n  ];\r\n  // eslint-disable-next-line\r\n  const i = str.replace(/(\\d+)\\.(\\d+)\\.(\\d+)/g, `20$3-$2-$1`);\r\n  const d = new Date(i);\r\n\r\n  return (\r\n    d.getDate() +\r\n    \" \" +\r\n    months[d.getMonth()] +\r\n    \" \" +\r\n    d.getFullYear() +\r\n    \", \" +\r\n    days[d.getDay()]\r\n  );\r\n}\r\n","export function companyLogo(carrier) {\r\n  let className = \"\";\r\n\r\n  if (carrier === \"TK\") {\r\n    className = \"turkish-logo ticket__logo\";\r\n  } else if (carrier === \"S7\") {\r\n    className = \"s7-logo ticket__logo\";\r\n  } else if (carrier === \"SU\") {\r\n    className = \"su-logo ticket__logo\";\r\n  } else if (carrier === \"BA\") {\r\n    className = \"ba-logo ticket__logo\";\r\n  }\r\n\r\n  return className;\r\n}\r\n","import React from \"react\";\r\nimport { displayDate } from \"./displayDate.js\";\r\nimport { stopsText } from \"./stopsText.js\";\r\nimport { companyLogo } from \"./companyLogo.js\";\r\nimport { priceConverter } from \"./priceConverter.js\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst Ticket = props => {\r\n  const {\r\n    origin,\r\n    origin_name,\r\n    destination,\r\n    destination_name,\r\n    departure_date,\r\n    departure_time,\r\n    arrival_date,\r\n    arrival_time,\r\n    carrier,\r\n    stops,\r\n    price\r\n  } = props.tickets;\r\n\r\n  const departureDate = displayDate(departure_date);\r\n  const arrivalDate = displayDate(arrival_date);\r\n  const finalPrice = priceConverter(\r\n    price,\r\n    props.currency,\r\n    props.currentCurrency\r\n  );\r\n\r\n  return (\r\n    <div className=\"wrapForShadowUnderTicket tickets-wrap__ticket\">\r\n      <div className=\"ticket\" role=\"article\" aria-label=\"Билет\">\r\n        <div className=\"ticket__logo-and-buy-button\">\r\n          <div className={companyLogo(carrier)} />\r\n          <button className=\"buy-button ticket__buy-button\" type=\"button\">\r\n            <span className=\"buy-button__text\">Купить</span>\r\n            <span className=\"buy-button__text\">за {finalPrice}</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"ticket__times-and-stops\">\r\n          <div className=\"ticket__time\" aria-label=\"Время вылета\">\r\n            {departure_time}\r\n          </div>\r\n          <div className=\"stops\">\r\n            <div className=\"stops__text\" aria-label=\"Количество пересадок\">\r\n              {stops ? stops : \"\"} {stopsText(stops)}\r\n            </div>\r\n            <div className=\"path-with-plane\">\r\n              <div className=\"path-with-plane__path\" />\r\n              <div className=\"path-with-plane__plane\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"ticket__time\" aria-label=\"Время прилета\">\r\n            {arrival_time}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"ticket__route\">\r\n          <div className=\"ticket__origin\">\r\n            <div className=\"ticket__airport-and-city\" aria-label=\"Вылет из\">\r\n              <span className=\"ticket__airport-code\">{origin}, </span>\r\n              <span className=\"ticket__city\">{origin_name}</span>\r\n            </div>\r\n\r\n            <div className=\"ticket__date-and-day\" aria-label=\"Дата вылета\">\r\n              <span className=\"ticket__date\">{departureDate}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"ticket__destination\">\r\n            <div className=\"ticket__airport-and-city\" aria-label=\"Прилет в\">\r\n              <span className=\"ticket__city\">{destination_name}, </span>\r\n              <span className=\"ticket__airport-code\">{destination}</span>\r\n            </div>\r\n\r\n            <div className=\"ticket__date-and-day\" aria-label=\"Дата прилета\">\r\n              <span className=\"ticket__date\">{arrivalDate}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTicket.propTypes = {\r\n  tickets: PropTypes.shape({\r\n    origin: PropTypes.string.isRequired,\r\n    origin_name: PropTypes.string.isRequired,\r\n    destination: PropTypes.string.isRequired,\r\n    destination_name: PropTypes.string.isRequired,\r\n    departure_date: PropTypes.string.isRequired,\r\n    departure_time: PropTypes.string.isRequired,\r\n    arrival_date: PropTypes.string.isRequired,\r\n    arrival_time: PropTypes.string.isRequired,\r\n    carrier: PropTypes.string.isRequired,\r\n    stops: PropTypes.number.isRequired,\r\n    price: PropTypes.number.isRequired\r\n  })\r\n};\r\n\r\nexport default Ticket;\r\n","export function priceConverter(price, currency, currentCurrancy) {\r\n  let usd, eur;\r\n  if (currentCurrancy === null) {\r\n    usd = 64;\r\n    eur = 73;\r\n  } else {\r\n    usd = currentCurrancy.USD_RUB;\r\n    eur = currentCurrancy.EUR_RUB;\r\n  }\r\n\r\n  if (currency === \"usd\") {\r\n    price = Number(price) / usd;\r\n    price = price.toFixed(2);\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = String(price).replace(/(\\d{3})/gi, \"$& \");\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = price + \" $\";\r\n  } else if (currency === \"eur\") {\r\n    price = Number(price) / eur;\r\n    price = price.toFixed(2);\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = String(price).replace(/(\\d{3})/gi, \"$& \");\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = price + \" €\";\r\n  } else {\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = String(price).replace(/(\\d{3})/gi, \"$& \");\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = price + \" ₽\";\r\n  }\r\n\r\n  return price;\r\n}\r\n","export function stopsText(stops) {\r\n  let text = \"\";\r\n\r\n  if (stops === 1) {\r\n    text = \"пересадка\";\r\n  } else if (stops > 1 && stops < 5) {\r\n    text = \"пересадки\";\r\n  } else if (stops > 4) {\r\n    text = \"пересадок\";\r\n  }\r\n\r\n  return text;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Ticket from \"../Ticket\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst API =\r\n  \"https://free.currconv.com/api/v7/convert?q=USD_RUB,EUR_RUB&compact=ultra&apiKey=55a48a56511997fc7eaf\";\r\n\r\nclass TicketsGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: null,\r\n      isLoading: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(API)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.setState({\r\n          data: data,\r\n          isLoading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const currentCurrency = this.props.currentCurrency;\r\n    const stops = this.props.stops;\r\n    const ticketsFromProps = this.props.tickets;\r\n\r\n    let filteredTickets = [];\r\n    let ticketsToShow = [];\r\n\r\n    stops.forEach(el => {\r\n      filteredTickets = ticketsFromProps.filter(ticket => {\r\n        if (ticket.stops === parseInt(el)) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n\r\n      ticketsToShow.push(...filteredTickets);\r\n    });\r\n\r\n    ticketsToShow.sort((a, b) => {\r\n      return a.price - b.price;\r\n    });\r\n\r\n    const tickets = ticketsToShow.map(ticket => (\r\n      <Ticket\r\n        currency={currentCurrency}\r\n        key={ticket.price + ticket.arrival_time + ticket.departure_time}\r\n        tickets={ticket}\r\n        currentCurrency={this.state.data}\r\n      />\r\n    ));\r\n\r\n    return <div className=\"tickets-wrap\">{tickets}</div>;\r\n  }\r\n}\r\n\r\nTicketsGroup.propTypes = {\r\n  tickets: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  currentCurrency: PropTypes.string.isRequired,\r\n  stops: PropTypes.arrayOf(PropTypes.string).isRequired\r\n};\r\n\r\nexport default TicketsGroup;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst CurrencyButton = props => {\r\n  let className = \"filter__currency-button \" + props.round;\r\n\r\n  props.currency === props.currentCurrency\r\n    ? (className += \" filter__currency-button_active\")\r\n    : (className += \"\");\r\n\r\n  return (\r\n    <button\r\n      aria-label={props.ariaLabel}\r\n      className={className}\r\n      onClick={handleClick}\r\n    >\r\n      {props.currency}\r\n    </button>\r\n  );\r\n\r\n  function handleClick() {\r\n    props.clicked(props.currency);\r\n  }\r\n};\r\n\r\nCurrencyButton.propTypes = {\r\n  clicked: PropTypes.func.isRequired,\r\n  currency: PropTypes.string.isRequired,\r\n  currentCurrency: PropTypes.string.isRequired,\r\n  round: PropTypes.string\r\n};\r\n\r\nexport default CurrencyButton;\r\n","import React, { PureComponent } from \"react\";\r\nimport CurrencyButton from \"../CurrencyButton\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nclass CurrencyButtonGroup extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currency: \"rub\"\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        aria-label=\"В какой валюте показывать цены\"\r\n        className=\"filter__currency-buttons-group\"\r\n      >\r\n        <CurrencyButton\r\n          ariaLabel=\"рубли\"\r\n          currency=\"rub\"\r\n          currentCurrency={this.state.currency}\r\n          clicked={this.clicked}\r\n          round=\"filter__currency-button_round_left\"\r\n        />\r\n        <CurrencyButton\r\n          ariaLabel=\"доллары\"\r\n          currency=\"usd\"\r\n          currentCurrency={this.state.currency}\r\n          clicked={this.clicked}\r\n        />\r\n        <CurrencyButton\r\n          ariaLabel=\"евро\"\r\n          currency=\"eur\"\r\n          currentCurrency={this.state.currency}\r\n          clicked={this.clicked}\r\n          round=\"filter__currency-button_round_right\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  clicked = cur => {\r\n    this.setState({\r\n      currency: cur\r\n    });\r\n\r\n    this.props.currentCurrency(cur);\r\n  };\r\n}\r\n\r\nCurrencyButtonGroup.propTypes = {\r\n  currentCurrency: PropTypes.func.isRequired\r\n};\r\n\r\nexport default CurrencyButtonGroup;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst Checkbox = props => {\r\n  return (\r\n    <div className=\"filter__stop-checkbox-wrap\">\r\n      <input\r\n        className=\"filter__stop-checkbox\"\r\n        id={props.name}\r\n        type=\"checkbox\"\r\n        onChange={handleChange}\r\n        checked={props.checked}\r\n      />\r\n      <label className=\"filter__stop-label\" htmlFor={props.name}>\r\n        {\" \"}\r\n        {props.labelText}\r\n      </label>\r\n      {props.name === \"checkBox\" ? (\r\n        \"\"\r\n      ) : (\r\n        <button\r\n          className=\"filter__stop-checkbox-only-button\"\r\n          onClick={handleOnly}\r\n        >\r\n          только\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  function handleOnly() {\r\n    props.only(props.name);\r\n  }\r\n  function handleChange() {\r\n    props.changed(props.name);\r\n  }\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  labelText: PropTypes.string.isRequired,\r\n  changed: PropTypes.func.isRequired,\r\n  checked: PropTypes.bool.isRequired,\r\n  only: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Checkbox;\r\n","export function checkBoxToStops(obj) {\r\n  let arr = [];\r\n\r\n  for (let key in obj) {\r\n    if (!obj[key] === false) {\r\n      arr.push(key);\r\n    }\r\n  }\r\n\r\n  // console.log(arr);\r\n\r\n  let arr2 = [];\r\n\r\n  arr.forEach(function(el) {\r\n    let check = el.replace(/(checkBox)([0-9]*)/i, \"$2\");\r\n    if (check.length > 0) {\r\n      arr2.push(check);\r\n    }\r\n    // arr2.push();\r\n  });\r\n\r\n  return arr2;\r\n}\r\n","import React, { PureComponent } from \"react\";\r\nimport Checkbox from \"../Checkbox\";\r\nimport checkboxes from \"./checkboxes.json\";\r\nimport { checkBoxToStops } from \"./checkBoxToStops.js\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nclass CheckboxGroup extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      checkBox: true,\r\n      checkBox0: true,\r\n      checkBox1: true,\r\n      checkBox2: true,\r\n      checkBox3: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.stops(checkBoxToStops(this.state));\r\n  }\r\n  componentDidUpdate() {\r\n    this.props.stops(checkBoxToStops(this.state));\r\n  }\r\n\r\n  render() {\r\n    const checkbox = checkboxes.checkboxes.map(checkbox => (\r\n      <Checkbox\r\n        key={checkbox.key}\r\n        name={checkbox.name}\r\n        labelText={checkbox.label}\r\n        changed={this.changed}\r\n        checked={this.state[checkbox.name]}\r\n        only={this.only}\r\n      />\r\n    ));\r\n\r\n    return <div className=\"filter__stop-checkboxes-group\">{checkbox}</div>;\r\n  }\r\n\r\n  only = elem => {\r\n    let obj = this.state;\r\n    for (let key in obj) {\r\n      this.setState({\r\n        [key]: false\r\n      });\r\n    }\r\n    this.setState({\r\n      [elem]: true\r\n    });\r\n  };\r\n\r\n  changed = elem => {\r\n    // Если включили чекбокс \"все\", то включить все остальные чекбоксы\r\n    if (elem === \"checkBox\" && this.state.checkBox === false) {\r\n      let obj = this.state;\r\n      for (let key in obj) {\r\n        this.setState({\r\n          [key]: true\r\n        });\r\n      }\r\n    }\r\n\r\n    // Если выключили чекбокс \"все\", то выключить все остальные чекбоксы\r\n    else if (elem === \"checkBox\" && this.state.checkBox === true) {\r\n      let obj = this.state;\r\n      for (let key in obj) {\r\n        this.setState({\r\n          [key]: false\r\n        });\r\n      }\r\n    }\r\n\r\n    // Если включили чекбокс не \"все\", то выключить чеккбокс \"все\"\r\n    else if (elem !== \"checkBox\" && this.state.checkBox === true) {\r\n      this.setState({\r\n        checkBox: false\r\n      });\r\n    }\r\n\r\n    // Если включили все чекбоксы, кроме \"все\", то включить \"все\"\r\n    else if (elem !== \"checkBox\" && this.state.checkBox === false) {\r\n      let obj = this.state;\r\n      let check = 0;\r\n      for (let key in obj) {\r\n        if (key !== \"checkBox\" && obj[key] === false) {\r\n          check++;\r\n        }\r\n      }\r\n      if (check === 1 && this.state[elem] === false) {\r\n        this.setState({\r\n          checkBox: true\r\n        });\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      [elem]: !this.state[elem]\r\n    });\r\n  };\r\n}\r\n\r\nCheckboxGroup.propTypes = {\r\n  stops: PropTypes.func.isRequired\r\n};\r\n\r\nexport default CheckboxGroup;\r\n","import React, { PureComponent } from \"react\";\r\nimport CurrencyButtonGroup from \"../CurrencyButtonGroup\";\r\nimport CheckboxGroup from \"../CheckboxGroup\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nclass Filter extends PureComponent {\r\n  render() {\r\n    return (\r\n      <div className=\"filter\">\r\n        <fieldset className=\"filter__controls-wrap\">\r\n          <legend className=\"filter__titles\">Валюта</legend>\r\n\r\n          <CurrencyButtonGroup currentCurrency={this.currentCurrency} />\r\n        </fieldset>\r\n        <fieldset className=\"filter__controls-wrap\">\r\n          <legend className=\"filter__titles\">Количество пересадок</legend>\r\n\r\n          <CheckboxGroup stops={this.stops} />\r\n        </fieldset>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  stops = stops => {\r\n    this.props.stops(stops);\r\n  };\r\n\r\n  currentCurrency = cur => {\r\n    this.props.currentCurrency(cur);\r\n  };\r\n}\r\n\r\nFilter.propTypes = {\r\n  currentCurrency: PropTypes.func.isRequired,\r\n  stops: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./style.css\";\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <a\r\n      className=\"logo\"\r\n      href={\"https://termitkin.github.io/react-aviasales/\"}\r\n      title=\"Главная страница\"\r\n    >\r\n      <img src={logo} alt=\"Главная страница\" />\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { PureComponent } from \"react\";\r\nimport TicketsGroup from \"./TicketsGroup\";\r\nimport tickets from \"./tickets.json\";\r\nimport Filter from \"./Filter\";\r\nimport Logo from \"./Logo\";\r\nimport \"./style.css\";\r\n\r\nclass App extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentCurrency: \"rub\",\r\n      stops: []\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <h1 className=\"page-heading\">\r\n          Покупка билетов из Владивостока в Тель-Авив\r\n        </h1>\r\n        <Logo />\r\n        <div role=\"main\" id=\"main\" className=\"content-wrapper\">\r\n          <Filter currentCurrency={this.currentCurrency} stops={this.stops} />\r\n          <TicketsGroup\r\n            tickets={tickets.tickets}\r\n            currentCurrency={this.state.currentCurrency}\r\n            stops={this.state.stops}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  currentCurrency = currency => {\r\n    this.setState({\r\n      currentCurrency: currency\r\n    });\r\n  };\r\n\r\n  stops = stops => {\r\n    this.setState({\r\n      stops: stops\r\n    });\r\n  };\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}