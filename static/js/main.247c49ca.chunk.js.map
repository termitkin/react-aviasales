{"version":3,"sources":["components/Logo/logo.svg","components/Ticket/displayDate.js","components/Ticket/companyLogo.js","components/Ticket/index.jsx","components/Ticket/priceConverter.js","components/Ticket/stopsText.js","components/TicketsGroup/index.jsx","components/CurrencyButton/index.jsx","components/CurrencyButtonGroup/index.jsx","components/Checkbox/index.jsx","components/CheckboxGroup/checkBoxToStops.js","components/CheckboxGroup/index.jsx","components/Filter/index.jsx","components/Logo/index.jsx","components/App.jsx","index.jsx"],"names":["module","exports","__webpack_require__","p","displayDate","str","i","replace","d","Date","getDate","getMonth","getFullYear","getDay","companyLogo","carrier","className","Ticket","props","_props$tickets","tickets","origin","origin_name","destination","destination_name","departure_date","departure_time","arrival_date","arrival_time","stops","price","departureDate","arrivalDate","finalPrice","currency","currentCurrancy","usd","eur","Number","toFixed","String","split","reverse","join","priceConverter","currentCurrency","react_default","a","createElement","role","aria-label","type","text","stopsText","TicketsGroup","_useState","useState","_useState2","Object","slicedToArray","data","newData","useEffect","temp","fetch","then","response","json","rates","RUB","ticketsFromProps","ticketsToShow","filteredTickets","forEach","el","filter","ticket","push","apply","toConsumableArray","sort","b","map","components_Ticket","key","CurrencyButton","round","ariaLabel","onClick","clicked","CurrencyButtonGroup","newCurrency","cur","components_CurrencyButton","Checkbox","id","name","onChange","changed","checked","htmlFor","labelText","only","checkBoxToStops","obj","arr","arr2","check","length","CheckboxGroup","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","elem","state","setState","defineProperty","checkBox","checkBox0","checkBox1","checkBox2","checkBox3","prevProps","prevState","_this2","checkbox","checkboxes","components_Checkbox","label","PureComponent","Filter","components_CurrencyButtonGroup","components_CheckboxGroup","sts","Logo","href","title","src","logo","alt","App","newCurrentCurrency","_useState3","_useState4","newStops","components_Logo","components_Filter","components_TicketsGroup","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.247c49ca.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.eb515c41.svg\";","export function displayDate(str) {\r\n  const days = [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"];\r\n  const months = [\r\n    \"янв\",\r\n    \"фев\",\r\n    \"мар\",\r\n    \"апр\",\r\n    \"май\",\r\n    \"июн\",\r\n    \"июл\",\r\n    \"авг\",\r\n    \"сен\",\r\n    \"окт\",\r\n    \"ноя\",\r\n    \"дек\"\r\n  ];\r\n  // eslint-disable-next-line\r\n  const i = str.replace(/(\\d+)\\.(\\d+)\\.(\\d+)/g, `20$3-$2-$1`);\r\n  const d = new Date(i);\r\n\r\n  return (\r\n    d.getDate() +\r\n    \" \" +\r\n    months[d.getMonth()] +\r\n    \" \" +\r\n    d.getFullYear() +\r\n    \", \" +\r\n    days[d.getDay()]\r\n  );\r\n}\r\n","export function companyLogo(carrier) {\r\n  let className = \"\";\r\n\r\n  if (carrier === \"TK\") {\r\n    className = \"turkish-logo ticket__logo\";\r\n  } else if (carrier === \"S7\") {\r\n    className = \"s7-logo ticket__logo\";\r\n  } else if (carrier === \"SU\") {\r\n    className = \"su-logo ticket__logo\";\r\n  } else if (carrier === \"BA\") {\r\n    className = \"ba-logo ticket__logo\";\r\n  }\r\n\r\n  return className;\r\n}\r\n","import React from \"react\";\r\nimport { displayDate } from \"./displayDate.js\";\r\nimport { stopsText } from \"./stopsText.js\";\r\nimport { companyLogo } from \"./companyLogo.js\";\r\nimport { priceConverter } from \"./priceConverter.js\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst Ticket = props => {\r\n  const {\r\n    origin,\r\n    origin_name,\r\n    destination,\r\n    destination_name,\r\n    departure_date,\r\n    departure_time,\r\n    arrival_date,\r\n    arrival_time,\r\n    carrier,\r\n    stops,\r\n    price\r\n  } = props.tickets;\r\n\r\n  const departureDate = displayDate(departure_date);\r\n  const arrivalDate = displayDate(arrival_date);\r\n  const finalPrice = priceConverter(\r\n    price,\r\n    props.currency,\r\n    props.currentCurrency\r\n  );\r\n\r\n  return (\r\n    <div className=\"wrapForShadowUnderTicket tickets-wrap__ticket\">\r\n      <div className=\"ticket\" role=\"article\" aria-label=\"Билет\">\r\n        <div className=\"ticket__logo-and-buy-button\">\r\n          <div className={companyLogo(carrier)} />\r\n          <button className=\"buy-button ticket__buy-button\" type=\"button\">\r\n            <span className=\"buy-button__text\">Купить</span>\r\n            <span className=\"buy-button__text\">за {finalPrice}</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"ticket__times-and-stops\">\r\n          <div className=\"ticket__time\" aria-label=\"Время вылета\">\r\n            {departure_time}\r\n          </div>\r\n          <div className=\"stops\">\r\n            <div className=\"stops__text\" aria-label=\"Количество пересадок\">\r\n              {stops ? stops : \"\"} {stopsText(stops)}\r\n            </div>\r\n            <div className=\"path-with-plane\">\r\n              <div className=\"path-with-plane__path\" />\r\n              <div className=\"path-with-plane__plane\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"ticket__time\" aria-label=\"Время прилета\">\r\n            {arrival_time}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"ticket__route\">\r\n          <div className=\"ticket__origin\">\r\n            <div className=\"ticket__airport-and-city\" aria-label=\"Вылет из\">\r\n              <span className=\"ticket__airport-code\">{origin}, </span>\r\n              <span className=\"ticket__city\">{origin_name}</span>\r\n            </div>\r\n\r\n            <div className=\"ticket__date-and-day\" aria-label=\"Дата вылета\">\r\n              <span className=\"ticket__date\">{departureDate}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"ticket__destination\">\r\n            <div className=\"ticket__airport-and-city\" aria-label=\"Прилет в\">\r\n              <span className=\"ticket__city\">{destination_name}, </span>\r\n              <span className=\"ticket__airport-code\">{destination}</span>\r\n            </div>\r\n\r\n            <div className=\"ticket__date-and-day\" aria-label=\"Дата прилета\">\r\n              <span className=\"ticket__date\">{arrivalDate}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTicket.propTypes = {\r\n  tickets: PropTypes.shape({\r\n    origin: PropTypes.string.isRequired,\r\n    origin_name: PropTypes.string.isRequired,\r\n    destination: PropTypes.string.isRequired,\r\n    destination_name: PropTypes.string.isRequired,\r\n    departure_date: PropTypes.string.isRequired,\r\n    departure_time: PropTypes.string.isRequired,\r\n    arrival_date: PropTypes.string.isRequired,\r\n    arrival_time: PropTypes.string.isRequired,\r\n    carrier: PropTypes.string.isRequired,\r\n    stops: PropTypes.number.isRequired,\r\n    price: PropTypes.number.isRequired\r\n  })\r\n};\r\n\r\nexport default Ticket;\r\n","export function priceConverter(price, currency, currentCurrancy) {\r\n  let usd, eur;\r\n  if (currentCurrancy === null) {\r\n    usd = 64;\r\n    eur = 73;\r\n  } else {\r\n    usd = currentCurrancy.usd;\r\n    eur = currentCurrancy.eur;\r\n  }\r\n\r\n  if (currency === \"usd\") {\r\n    price = Number(price) / usd;\r\n    price = price.toFixed(2);\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = String(price).replace(/(\\d{3})/gi, \"$& \");\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = price + \" $\";\r\n  } else if (currency === \"eur\") {\r\n    price = Number(price) / eur;\r\n    price = price.toFixed(2);\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = String(price).replace(/(\\d{3})/gi, \"$& \");\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = price + \" €\";\r\n  } else {\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = String(price).replace(/(\\d{3})/gi, \"$& \");\r\n    price = String(price)\r\n      .split(\"\")\r\n      .reverse()\r\n      .join(\"\");\r\n    price = price + \" ₽\";\r\n  }\r\n\r\n  return price;\r\n}\r\n","export function stopsText(stops) {\r\n  let text = \"\";\r\n\r\n  if (stops === 1) {\r\n    text = \"пересадка\";\r\n  } else if (stops > 1 && stops < 5) {\r\n    text = \"пересадки\";\r\n  } else if (stops > 4) {\r\n    text = \"пересадок\";\r\n  }\r\n\r\n  return text;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Ticket from \"../Ticket\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst USD_RUB = \"https://api.ratesapi.io/api/latest?base=USD&symbols=RUB\";\r\nconst EUR_RUB = \"https://api.ratesapi.io/api/latest?base=EUR&symbols=RUB\";\r\n\r\nconst TicketsGroup = props => {\r\n  let [data, newData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let temp = { usd: \"\", eur: \"\" };\r\n    fetch(USD_RUB)\r\n      .then(response => response.json())\r\n      .then(data => (temp.usd = data.rates.RUB));\r\n    fetch(EUR_RUB)\r\n      .then(response => response.json())\r\n      .then(data => (temp.eur = data.rates.RUB));\r\n\r\n    newData((data = temp));\r\n  }, []);\r\n\r\n  const currentCurrency = props.currentCurrency;\r\n  const stops = props.stops;\r\n  const ticketsFromProps = props.tickets;\r\n\r\n  const ticketsToShow = [];\r\n  let filteredTickets = [];\r\n\r\n  stops.forEach(el => {\r\n    filteredTickets = ticketsFromProps.filter(ticket => {\r\n      if (ticket.stops === Number(el)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n\r\n    ticketsToShow.push(...filteredTickets);\r\n  });\r\n\r\n  ticketsToShow.sort((a, b) => a.price - b.price);\r\n\r\n  const tickets = ticketsToShow.map(ticket => (\r\n    <Ticket\r\n      currency={currentCurrency}\r\n      key={ticket.price + ticket.arrival_time + ticket.departure_time}\r\n      tickets={ticket}\r\n      currentCurrency={data}\r\n    />\r\n  ));\r\n\r\n  return <div className=\"tickets-wrap\">{tickets}</div>;\r\n};\r\n\r\nTicketsGroup.propTypes = {\r\n  tickets: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  currentCurrency: PropTypes.string.isRequired,\r\n  stops: PropTypes.arrayOf(PropTypes.string).isRequired\r\n};\r\n\r\nexport default TicketsGroup;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst CurrencyButton = props => {\r\n  let className = \"filter__currency-button \" + props.round;\r\n\r\n  props.currency === props.currentCurrency\r\n    ? (className += \" filter__currency-button_active\")\r\n    : (className += \"\");\r\n\r\n  return (\r\n    <button\r\n      aria-label={props.ariaLabel}\r\n      className={className}\r\n      onClick={handleClick}\r\n    >\r\n      {props.currency}\r\n    </button>\r\n  );\r\n\r\n  function handleClick() {\r\n    props.clicked(props.currency);\r\n  }\r\n};\r\n\r\nCurrencyButton.propTypes = {\r\n  clicked: PropTypes.func.isRequired,\r\n  currency: PropTypes.string.isRequired,\r\n  currentCurrency: PropTypes.string.isRequired,\r\n  round: PropTypes.string\r\n};\r\n\r\nexport default CurrencyButton;\r\n","import React, { useState } from \"react\";\r\nimport CurrencyButton from \"../CurrencyButton\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst CurrencyButtonGroup = props => {\r\n  let [currency, newCurrency] = useState(\"rub\");\r\n\r\n  const clicked = cur => {\r\n    newCurrency((currency = cur));\r\n    props.currentCurrency(cur);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      aria-label=\"В какой валюте показывать цены\"\r\n      className=\"filter__currency-buttons-group\"\r\n    >\r\n      <CurrencyButton\r\n        ariaLabel=\"рубли\"\r\n        currency=\"rub\"\r\n        currentCurrency={currency}\r\n        clicked={clicked}\r\n        round=\"filter__currency-button_round_left\"\r\n      />\r\n      <CurrencyButton\r\n        ariaLabel=\"доллары\"\r\n        currency=\"usd\"\r\n        currentCurrency={currency}\r\n        clicked={clicked}\r\n      />\r\n      <CurrencyButton\r\n        ariaLabel=\"евро\"\r\n        currency=\"eur\"\r\n        currentCurrency={currency}\r\n        clicked={clicked}\r\n        round=\"filter__currency-button_round_right\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nCurrencyButtonGroup.propTypes = {\r\n  currentCurrency: PropTypes.func.isRequired\r\n};\r\n\r\nexport default CurrencyButtonGroup;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst Checkbox = props => {\r\n  return (\r\n    <div className=\"filter__stop-checkbox-wrap\">\r\n      <input\r\n        className=\"filter__stop-checkbox\"\r\n        id={props.name}\r\n        type=\"checkbox\"\r\n        onChange={handleChange}\r\n        checked={props.checked}\r\n      />\r\n      <label className=\"filter__stop-label\" htmlFor={props.name}>\r\n        {\" \"}\r\n        {props.labelText}\r\n      </label>\r\n      {props.name === \"checkBox\" ? (\r\n        \"\"\r\n      ) : (\r\n        <button\r\n          className=\"filter__stop-checkbox-only-button\"\r\n          onClick={handleOnly}\r\n        >\r\n          только\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  function handleOnly() {\r\n    props.only(props.name);\r\n  }\r\n  function handleChange() {\r\n    props.changed(props.name);\r\n  }\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  labelText: PropTypes.string.isRequired,\r\n  changed: PropTypes.func.isRequired,\r\n  checked: PropTypes.bool.isRequired,\r\n  only: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Checkbox;\r\n","export function checkBoxToStops(obj) {\r\n  let arr = [];\r\n\r\n  for (let key in obj) {\r\n    if (!obj[key] === false) {\r\n      arr.push(key);\r\n    }\r\n  }\r\n\r\n  // console.log(arr);\r\n\r\n  let arr2 = [];\r\n\r\n  arr.forEach(function(el) {\r\n    let check = el.replace(/(checkBox)([0-9]*)/i, \"$2\");\r\n    if (check.length > 0) {\r\n      arr2.push(check);\r\n    }\r\n    // arr2.push();\r\n  });\r\n\r\n  return arr2;\r\n}\r\n","import React, { PureComponent } from \"react\";\r\nimport Checkbox from \"../Checkbox\";\r\nimport checkboxes from \"./checkboxes.json\";\r\nimport { checkBoxToStops } from \"./checkBoxToStops.js\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nclass CheckboxGroup extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      checkBox: true,\r\n      checkBox0: true,\r\n      checkBox1: true,\r\n      checkBox2: true,\r\n      checkBox3: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.stops(checkBoxToStops(this.state));\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state !== prevState) {\r\n      this.props.stops(checkBoxToStops(this.state));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const checkbox = checkboxes.checkboxes.map(checkbox => (\r\n      <Checkbox\r\n        key={checkbox.key}\r\n        name={checkbox.name}\r\n        labelText={checkbox.label}\r\n        changed={this.changed}\r\n        checked={this.state[checkbox.name]}\r\n        only={this.only}\r\n      />\r\n    ));\r\n\r\n    return <div className=\"filter__stop-checkboxes-group\">{checkbox}</div>;\r\n  }\r\n\r\n  only = elem => {\r\n    let obj = this.state;\r\n    for (let key in obj) {\r\n      this.setState({\r\n        [key]: false\r\n      });\r\n    }\r\n    this.setState({\r\n      [elem]: true\r\n    });\r\n  };\r\n\r\n  changed = elem => {\r\n    // Если включили чекбокс \"все\", то включить все остальные чекбоксы\r\n    if (elem === \"checkBox\" && this.state.checkBox === false) {\r\n      let obj = this.state;\r\n      for (let key in obj) {\r\n        this.setState({\r\n          [key]: true\r\n        });\r\n      }\r\n    }\r\n\r\n    // Если выключили чекбокс \"все\", то выключить все остальные чекбоксы\r\n    else if (elem === \"checkBox\" && this.state.checkBox === true) {\r\n      let obj = this.state;\r\n      for (let key in obj) {\r\n        this.setState({\r\n          [key]: false\r\n        });\r\n      }\r\n    }\r\n\r\n    // Если включили чекбокс не \"все\", то выключить чеккбокс \"все\"\r\n    else if (elem !== \"checkBox\" && this.state.checkBox === true) {\r\n      this.setState({\r\n        checkBox: false\r\n      });\r\n    }\r\n\r\n    // Если включили все чекбоксы, кроме \"все\", то включить \"все\"\r\n    else if (elem !== \"checkBox\" && this.state.checkBox === false) {\r\n      let obj = this.state;\r\n      let check = 0;\r\n      for (let key in obj) {\r\n        if (key !== \"checkBox\" && obj[key] === false) {\r\n          check++;\r\n        }\r\n      }\r\n      if (check === 1 && this.state[elem] === false) {\r\n        this.setState({\r\n          checkBox: true\r\n        });\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      [elem]: !this.state[elem]\r\n    });\r\n  };\r\n}\r\n\r\nCheckboxGroup.propTypes = {\r\n  stops: PropTypes.func.isRequired\r\n};\r\n\r\nexport default CheckboxGroup;\r\n","import React from \"react\";\r\nimport CurrencyButtonGroup from \"../CurrencyButtonGroup\";\r\nimport CheckboxGroup from \"../CheckboxGroup\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./style.css\";\r\n\r\nconst Filter = props => {\r\n  const st = sts => props.stops(sts);\r\n  const cr = cur => props.currentCurrency(cur);\r\n\r\n  return (\r\n    <div className=\"filter\">\r\n      <fieldset className=\"filter__controls-wrap\">\r\n        <legend className=\"filter__titles\">Валюта</legend>\r\n\r\n        <CurrencyButtonGroup currentCurrency={cr} />\r\n      </fieldset>\r\n      <fieldset className=\"filter__controls-wrap\">\r\n        <legend className=\"filter__titles\">Количество пересадок</legend>\r\n\r\n        <CheckboxGroup stops={st} />\r\n      </fieldset>\r\n    </div>\r\n  );\r\n};\r\n\r\nFilter.propTypes = {\r\n  currentCurrency: PropTypes.func.isRequired,\r\n  stops: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./style.css\";\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <a\r\n      className=\"logo\"\r\n      href={\"https://termitkin.github.io/react-aviasales/\"}\r\n      title=\"Главная страница\"\r\n    >\r\n      <img src={logo} alt=\"Главная страница\" />\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { useState } from \"react\";\r\nimport TicketsGroup from \"./TicketsGroup\";\r\nimport tickets from \"./tickets.json\";\r\nimport Filter from \"./Filter\";\r\nimport Logo from \"./Logo\";\r\nimport \"./style.css\";\r\n\r\nconst App = () => {\r\n  let [currentCurrency, newCurrentCurrency] = useState(\"rub\");\r\n  let [stops, newStops] = useState([]);\r\n\r\n  const cr = cur => newCurrentCurrency((currentCurrency = cur));\r\n  const st = sts => newStops((stops = sts));\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <h1 className=\"page-heading\">\r\n        Покупка билетов из Владивостока в Тель-Авив\r\n      </h1>\r\n      <Logo />\r\n      <div role=\"main\" id=\"main\" className=\"content-wrapper\">\r\n        <Filter currentCurrency={cr} stops={st} />\r\n        <TicketsGroup\r\n          tickets={tickets.tickets}\r\n          currentCurrency={currentCurrency}\r\n          stops={stops}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}