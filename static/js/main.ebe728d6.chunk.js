(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e){e.exports={tickets:[{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"16:20",arrival_date:"12.05.18",arrival_time:"22:10",carrier:"TK",stops:3,price:12400},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"17:20",arrival_date:"12.05.18",arrival_time:"23:50",carrier:"S7",stops:1,price:131e3},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"12:10",arrival_date:"12.05.18",arrival_time:"18:10",carrier:"SU",stops:0,price:150300},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"17:00",arrival_date:"12.05.18",arrival_time:"23:30",carrier:"TK",stops:2,price:191e4},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"12:10",arrival_date:"12.05.18",arrival_time:"20:15",carrier:"BA",stops:3,price:13400},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"9:40",arrival_date:"12.05.18",arrival_time:"19:25",carrier:"SU",stops:3,price:12450},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"17:10",arrival_date:"12.05.18",arrival_time:"23:45",carrier:"TK",stops:1,price:13600},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"6:10",arrival_date:"12.05.18",arrival_time:"15:25",carrier:"TK",stops:0,price:14250},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"16:50",arrival_date:"12.05.18",arrival_time:"23:35",carrier:"SU",stops:1,price:16700},{origin:"VVO",origin_name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",destination:"TLV",destination_name:"\u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432",departure_date:"12.05.18",departure_time:"6:10",arrival_date:"12.05.18",arrival_time:"16:15",carrier:"S7",stops:0,price:17400}]}},23:function(e){e.exports={checkboxes:[{name:"checkBox",key:"checkBox",label:"\u0412\u0441\u0435"},{name:"checkBox0",key:"checkBox0",label:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},{name:"checkBox1",key:"checkBox1",label:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"},{name:"checkBox2",key:"checkBox2",label:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"},{name:"checkBox3",key:"checkBox3",label:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}]}},24:function(e,t,a){e.exports=a.p+"static/media/logo.18ef78fb.svg"},28:function(e,t,a){e.exports=a(61)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(17),c=a(2),s=a(25),o=(a(33),a(6)),l=a.n(o);function u(e){var t=e.replace(/(\d+)\.(\d+)\.(\d+)/g,"20$3-$2-$1"),a=new Date(t);return a.getDate()+" "+["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"][a.getMonth()]+" "+a.getFullYear()+", "+["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"][a.getDay()]}function m(e){var t="";return"TK"===e?t="turkish-logo ticket__logo":"S7"===e?t="s7-logo ticket__logo":"SU"===e?t="su-logo ticket__logo":"BA"===e&&(t="ba-logo ticket__logo"),t}a(52);var d=function(e){var t=e.tickets,a=t.origin,r=t.origin_name,i=t.destination,c=t.destination_name,s=t.departure_date,o=t.departure_time,l=t.arrival_date,d=t.arrival_time,_=t.carrier,p=t.stops,k=t.price,v=u(s),b=u(l),f=function(e,t,a){var r,n;return null===a?(r=64,n=73):(r=a.usd,n=a.eur),"usd"===t?(e=(e=Number(e)/r).toFixed(2),e=String(e).split("").reverse().join(""),e=String(e).replace(/(\d{3})/gi,"$& "),e=String(e).split("").reverse().join(""),e+=" $"):"eur"===t?(e=(e=Number(e)/n).toFixed(2),e=String(e).split("").reverse().join(""),e=String(e).replace(/(\d{3})/gi,"$& "),e=String(e).split("").reverse().join(""),e+=" \u20ac"):(e=String(e).split("").reverse().join(""),e=String(e).replace(/(\d{3})/gi,"$& "),e=String(e).split("").reverse().join(""),e+=" \u20bd"),e}(k,e.currency,e.currentCurrency);return n.a.createElement("div",{className:"wrapForShadowUnderTicket tickets-wrap__ticket"},n.a.createElement("div",{className:"ticket",role:"article","aria-label":"\u0411\u0438\u043b\u0435\u0442"},n.a.createElement("div",{className:"ticket__logo-and-buy-button"},n.a.createElement("div",{className:m(_)}),n.a.createElement("button",{className:"buy-button ticket__buy-button",type:"button"},n.a.createElement("span",{className:"buy-button__text"},"\u041a\u0443\u043f\u0438\u0442\u044c"),n.a.createElement("span",{className:"buy-button__text"},"\u0437\u0430 ",f))),n.a.createElement("div",{className:"ticket__times-and-stops"},n.a.createElement("div",{className:"ticket__time","aria-label":"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430"},o),n.a.createElement("div",{className:"stops"},n.a.createElement("div",{className:"stops__text","aria-label":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"},p||""," ",function(e){var t="";return 1===e?t="\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":e>1&&e<5?t="\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438":e>4&&(t="\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),t}(p)),n.a.createElement("div",{className:"path-with-plane"},n.a.createElement("div",{className:"path-with-plane__path"}),n.a.createElement("div",{className:"path-with-plane__plane"}))),n.a.createElement("div",{className:"ticket__time","aria-label":"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u043b\u0435\u0442\u0430"},d)),n.a.createElement("div",{className:"ticket__route"},n.a.createElement("div",{className:"ticket__origin"},n.a.createElement("div",{className:"ticket__airport-and-city","aria-label":"\u0412\u044b\u043b\u0435\u0442 \u0438\u0437"},n.a.createElement("span",{className:"ticket__airport-code"},a,", "),n.a.createElement("span",{className:"ticket__city"},r)),n.a.createElement("div",{className:"ticket__date-and-day","aria-label":"\u0414\u0430\u0442\u0430 \u0432\u044b\u043b\u0435\u0442\u0430"},n.a.createElement("span",{className:"ticket__date"},v))),n.a.createElement("div",{className:"ticket__destination"},n.a.createElement("div",{className:"ticket__airport-and-city","aria-label":"\u041f\u0440\u0438\u043b\u0435\u0442 \u0432"},n.a.createElement("span",{className:"ticket__city"},c,", "),n.a.createElement("span",{className:"ticket__airport-code"},i)),n.a.createElement("div",{className:"ticket__date-and-day","aria-label":"\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u043b\u0435\u0442\u0430"},n.a.createElement("span",{className:"ticket__date"},b))))))},_=(a(53),function(e){var t=Object(r.useState)(null),a=Object(c.a)(t,2),i=a[0],o=a[1];Object(r.useEffect)(function(){var e={usd:"",eur:""};l.a.get("https://api.ratesapi.io/api/latest?base=USD&symbols=RUB").then(function(t){return e.usd=t.data.rates.RUB}),l.a.get("https://api.ratesapi.io/api/latest?base=EUR&symbols=RUB").then(function(t){return e.eur=t.data.rates.RUB}),o(i=e)},[]);var u=e.currentCurrency,m=e.stops,_=e.tickets,p=[],k=[];m.forEach(function(e){k=_.filter(function(t){return t.stops===Number(e)}),p.push.apply(p,Object(s.a)(k))}),p.sort(function(e,t){return e.price-t.price});var v=p.map(function(e){return n.a.createElement(d,{currency:u,key:e.price+e.arrival_time+e.departure_time,tickets:e,currentCurrency:i})});return n.a.createElement("div",{className:"tickets-wrap"},v)}),p=a(19),k=(a(54),function(e){var t="filter__currency-button "+e.round;return e.currency===e.currentCurrency?t+=" filter__currency-button_active":t+="",n.a.createElement("button",{"aria-label":e.ariaLabel,className:t,onClick:function(){e.clicked(e.currency)}},e.currency)}),v=(a(55),function(e){var t=Object(r.useState)("rub"),a=Object(c.a)(t,2),i=a[0],s=a[1],o=function(t){s(i=t),e.currentCurrency(t)};return n.a.createElement("div",{"aria-label":"\u0412 \u043a\u0430\u043a\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u044b",className:"filter__currency-buttons-group"},n.a.createElement(k,{ariaLabel:"\u0440\u0443\u0431\u043b\u0438",currency:"rub",currentCurrency:i,clicked:o,round:"filter__currency-button_round_left"}),n.a.createElement(k,{ariaLabel:"\u0434\u043e\u043b\u043b\u0430\u0440\u044b",currency:"usd",currentCurrency:i,clicked:o}),n.a.createElement(k,{ariaLabel:"\u0435\u0432\u0440\u043e",currency:"eur",currentCurrency:i,clicked:o,round:"filter__currency-button_round_right"}))}),b=a(3),f=a(20),h=a(21),g=a(26),E=a(22),y=a(27),N=(a(56),function(e){return n.a.createElement("div",{className:"filter__stop-checkbox-wrap"},n.a.createElement("input",{className:"filter__stop-checkbox",id:e.name,type:"checkbox",onChange:function(){e.changed(e.name)},checked:e.checked}),n.a.createElement("label",{className:"filter__stop-label",htmlFor:e.name}," ",e.labelText),"checkBox"===e.name?"":n.a.createElement("button",{className:"filter__stop-checkbox-only-button",onClick:function(){e.only(e.name)}},"\u0442\u043e\u043b\u044c\u043a\u043e"))}),x=a(23);function B(e){var t=[];for(var a in e)!1===!e[a]&&t.push(a);var r=[];return t.forEach(function(e){var t=e.replace(/(checkBox)([0-9]*)/i,"$2");t.length>0&&r.push(t)}),r}a(57);var O=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).only=function(e){var t=a.state;for(var r in t)a.setState(Object(b.a)({},r,!1));a.setState(Object(b.a)({},e,!0))},a.changed=function(e){if("checkBox"===e&&!1===a.state.checkBox){var t=a.state;for(var r in t)a.setState(Object(b.a)({},r,!0))}else if("checkBox"===e&&!0===a.state.checkBox){var n=a.state;for(var i in n)a.setState(Object(b.a)({},i,!1))}else if("checkBox"!==e&&!0===a.state.checkBox)a.setState({checkBox:!1});else if("checkBox"!==e&&!1===a.state.checkBox){var c=a.state,s=0;for(var o in c)"checkBox"!==o&&!1===c[o]&&s++;1===s&&!1===a.state[e]&&a.setState({checkBox:!0})}a.setState(Object(b.a)({},e,!a.state[e]))},a.state={checkBox:!0,checkBox0:!0,checkBox1:!0,checkBox2:!0,checkBox3:!0},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.stops(B(this.state))}},{key:"componentDidUpdate",value:function(e,t){this.state!==t&&this.props.stops(B(this.state))}},{key:"render",value:function(){var e=this,t=x.checkboxes.map(function(t){return n.a.createElement(N,{key:t.key,name:t.name,labelText:t.label,changed:e.changed,checked:e.state[t.name],only:e.only})});return n.a.createElement("div",{className:"filter__stop-checkboxes-group"},t)}}]),t}(r.PureComponent),V=(a(58),function(e){return n.a.createElement("div",{className:"filter"},n.a.createElement("fieldset",{className:"filter__controls-wrap"},n.a.createElement("legend",{className:"filter__titles"},"\u0412\u0430\u043b\u044e\u0442\u0430"),n.a.createElement(v,{currentCurrency:function(t){return e.currentCurrency(t)}})),n.a.createElement("fieldset",{className:"filter__controls-wrap"},n.a.createElement("legend",{className:"filter__titles"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),n.a.createElement(O,{stops:function(t){return e.stops(t)}})))}),S=a(24),j=a.n(S),w=(a(59),function(){return n.a.createElement("a",{className:"logo",href:"https://termitkin.github.io/react-aviasales/",title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},n.a.createElement("img",{src:j.a,alt:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}))}),T=(a(60),function(){var e=Object(r.useState)("rub"),t=Object(c.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)([]),o=Object(c.a)(s,2),l=o[0],u=o[1];return n.a.createElement("div",{className:"wrapper"},n.a.createElement("h1",{className:"page-heading"},"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438\u0437 \u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a\u0430 \u0432 \u0422\u0435\u043b\u044c-\u0410\u0432\u0438\u0432"),n.a.createElement(w,null),n.a.createElement("div",{role:"main",id:"main",className:"content-wrapper"},n.a.createElement(V,{currentCurrency:function(e){return i(a=e)},stops:function(e){return u(l=e)}}),n.a.createElement(_,{tickets:p.tickets,currentCurrency:a,stops:l})))});Object(i.render)(n.a.createElement(T,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.ebe728d6.chunk.js.map